"use strict";function startWatcher(r,e){try{var t=(0,_child_process.spawn)(/^win/i.test(process.platform)?"npm.cmd":"npm",["run","watch"],{stdio:"inherit"});t.on("close",function(r){_utils.colorconsole[0!==r?"error":"info"]("### App Server ### watcher进程退出，退出码： ".concat(r))}),process.on("SIGINT",function(r){_utils.colorconsole.info("### App Server ### 进程(pid: ".concat(t.pid,")准备退出， 关闭watcher进程")),t.kill()})}catch(r){_utils.colorconsole.error("### App Server ### watcher启动失败: ".concat(r.message))}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.startWatcher=startWatcher;var _child_process=require("child_process"),_utils=require("../lib/utils");