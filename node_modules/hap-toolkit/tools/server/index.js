"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _slicedToArray(e,r){return _arrayWithHoles(e)||_iterableToArrayLimit(e,r)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,r){var t=[],i=!0,o=!1,n=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(t.push(s.value),!r||t.length!==r);i=!0);}catch(e){o=!0,n=e}finally{try{i||null==a.return||a.return()}finally{if(o)throw n}}return t}function _arrayWithHoles(e){if(Array.isArray(e))return e}require("./lib/regenerator");var _conf=_interopRequireDefault(require("./lib/conf")),_modules=_interopRequireDefault(require("./lib/modules")),_server=require("./server"),digits=process.versions.node.split(".");digits=digits.map(function(e){return parseInt(e,10)});var _digits=digits,_digits2=_slicedToArray(_digits,2),major=_digits2[0],minor=_digits2[1],supportAsyncAwait=major>7||7===major&&minor>=6;supportAsyncAwait||require("@babel/register")({only:[/\bkoa-?/]}),module.exports=function(e){e.port&&Object.assign(_conf.default.defaults,{serverPort:e.port}),e.modules&&e.modules.length&&Object.assign(_conf.default.options,{moduleList:e.modules}),_modules.default.init(_conf.default),(0,_server.start)(_conf.default,_modules.default,e.watch)};