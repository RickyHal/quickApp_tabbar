"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function mkdirsSync(e){return!!_fs.default.existsSync(e)||(mkdirsSync(_path.default.dirname(e))?(_fs.default.mkdirSync(e),!0):void 0)}function prependLevel(e,r){!logLevelMap[e]&&function(r){var o=r.toUpperCase().substr(0,4);o.paddEnd&&o.paddEnd(4),logLevelMap[e]=o}(e),"string"==typeof r[0]&&r[0].length>1&&"["!==r[0][0]&&(r[0]="[".concat(logLevelMap[e],"] ").concat(r[0]))}function getIPv4IPAddress(){var e,r=_os.default.networkInterfaces();for(var o in r)if(Object.prototype.hasOwnProperty.call(r,o)){var n=r[o];if(n.every(function(r,o,n){return!("IPv4"===r.family&&!r.internal&&"127.0.0.1"!==r.address)||(e=r,!1)}),void 0!==e)break}return e&&e.address}function getClientIPAddress(e){return stripPrefixForIPV4MappedIPV6Address(e.headers["x-forwarded-for"]||e.connection&&e.connection.remoteAddress||e.socket&&e.socket.remoteAddress||e.connection&&e.connection.socket&&e.connection.socket.remoteAddress)}function stripPrefixForIPV4MappedIPV6Address(e){return/^::.{0,4}:(\d{1,3}\.){3}\d{1,3}/.test(e)&&(e=e.replace(/^.*:/,"")),e}function outputQRCodeOnTerminal(e){console.info(""),console.info("生成HTTP服务器的二维码: ".concat(e)),_qrcodeTerminal.default.generate(e,{small:!0})}function traverseDirSync(e,r,o){_fs.default.readdirSync(e).forEach(function(n){n=_path.default.join(e,n);var t=_fs.default.statSync(n);t&&t.isDirectory()?traverseDirSync(n,r,o):("function"==typeof o&&!o(n)||"function"!=typeof o)&&r.push(n)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.mkdirsSync=mkdirsSync,exports.getIPv4IPAddress=getIPv4IPAddress,exports.getClientIPAddress=getClientIPAddress,exports.stripPrefixForIPV4MappedIPV6Address=stripPrefixForIPV4MappedIPV6Address,exports.outputQRCodeOnTerminal=outputQRCodeOnTerminal,exports.traverseDirSync=traverseDirSync,exports.colorconsole=void 0;var _path=_interopRequireDefault(require("path")),_fs=_interopRequireDefault(require("fs")),_os=_interopRequireDefault(require("os")),_chalk=_interopRequireDefault(require("chalk")),_qrcodeTerminal=_interopRequireDefault(require("qrcode-terminal")),logLevelMap={},colorconsole={trace:function(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];prependLevel("trace",o),(e=console).trace.apply(e,o)},log:function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];prependLevel("log",r),console.log(_chalk.default.green.apply(_chalk.default,r))},info:function(){for(var e=arguments.length,r=new Array(e),o=0;o<e;o++)r[o]=arguments[o];prependLevel("info",r),console.info(_chalk.default.green.apply(_chalk.default,r))},warn:function(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];prependLevel("warn",o),console.warn((e=_chalk.default.yellow).bold.apply(e,o))},error:function(){for(var e,r=arguments.length,o=new Array(r),n=0;n<r;n++)o[n]=arguments[n];prependLevel("error",o),console.error((e=_chalk.default.red).bold.apply(e,o))},throw:function(){var e;throw new Error((e=_chalk.default.red).bold.apply(e,arguments))}};exports.colorconsole=colorconsole;