#!/usr/bin/env node
"use strict";var program=require("commander"),chalk=require("chalk");program.version(require("../package").version).usage("<command> [options]"),program.command("init <app-name>").description("create a new project.").action(function(e){require("../commands/init")(e)}),program.command("build").description("build the project").option("--disable-source-map","disable source map").option("--optimize-desc-meta","optimize desc meta").option("--optimize-css-attr","optimize css attr").option("--optimize-template-attr","optimize template attr").option("--optimize-style-page-level","optimize style in page").option("--optimize-style-app-level","optimize style in app ").action(function(e){require("../commands/compile")("native","dev",!1,e)}),program.command("debug").description("debug the project").action(function(){require("../tools/server")({modules:["debugger","packager"],port:8081})}),program.command("server").description("open server for project").option("--port <port>","specified port",8e3).option("--watch","recompile project while file changes").option("--clear-records","clear device records").option("--chrome-path <chrome-path>","support for a user specified chrome path").action(function(e){var o=require("../tools/server"),t=require("../commands/compile");o(e),e.watch&&t("native","dev",!0)}),program.command("watch").description("recompile project while file changes").action(function(){require("../commands/compile")("native","dev",!0)}),program.command("release").description("release the project").option("--debug","use debug sign").option("--optimize-desc-meta","optimize desc meta").option("--optimize-css-attr","optimize css attr").option("--optimize-template-attr","optimize template attr").option("--optimize-style-page-level","optimize style in page").option("--optimize-style-app-level","optimize style in app ").action(function(e){require("../commands/compile")("native","prod",!1,e)}),program.command("postinstall",{noHelp:!0}).action(function(){console.warn("Deprecated command")}),program.command("update").description("update tools for project").option("--force","force update tools for project").action(function(e){require("../commands/update")(e.force)}),program.on("--help",function(){console.log(),console.log("  Run ".concat(chalk.cyan("hap <command> --help")," for detailed usage of given command.")),console.log()}),require("fs-extra"),setTimeout(function(){program.parse(process.argv),process.argv.slice(2).length||program.outputHelp()},0);